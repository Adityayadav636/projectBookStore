(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{207:function(e,t,r){},208:function(e,t,r){},209:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(23),s=r.n(c),i=r(14),o=r(283),l=r(10),d=r(21),u=r(263),j=r(264),p=r(261),b=r(163),h=r(302),O=r(265),x=r(266),f=r(258),m=r(27),g=r(285),v=r(301),y=r(262),S=r(1),w=Object(f.a)((function(e){return{root:{display:"flex",borderRadius:e.shape.borderRadius,backgroundColor:"#fff",boxShadow:"0 0 3px 1px rgba(0, 0, 0, 0.1)",width:"100%"},input:{marginLeft:e.spacing(2),flex:1,fontSize:"1rem"},iconButton:{padding:e.spacing(1),backgroundColor:"grey",color:"#fff","&:hover":{backgroundColor:"black"}}}}));var I=function(){var e=w(),t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(m.useHistory)();return Object(S.jsxs)(g.a,{component:"form",onSubmit:function(e){e.preventDefault(),s.push("/?keyword=".concat(n,"&page=1"))},className:e.root,children:[Object(S.jsx)(v.a,{placeholder:"Search with title",className:e.input,value:n,onChange:function(e){return c(e.target.value)}}),Object(S.jsx)(p.a,{type:"submit",className:e.iconButton,"aria-label":"search",children:Object(S.jsx)(y.a,{})})]})},k=r.p+"static/media/logo.b62b9181.png",C=r(8),P=r.n(C),D=r(18),R=r(37),N=r(52),L=r(64),A=r(72),F=r(32),E=r.n(F),z=new(function(){function e(){Object(L.a)(this,e)}return Object(A.a)(e,[{key:"getUserDetails",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("userInfo")).token,r={headers:{Authorization:"Bearer ".concat(t)}},e.next=5,E.a.get("/api/users/",r);case 5:return a=e.sent,n=a.data,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r,a){var n,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json"}},e.next=4,E.a.post("/api/users/register/",{name:t,email:r,password:a},n);case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var a,n,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{Authorization:"Bearer ".concat(a)}},e.next=5,E.a.put("/api/users/profile/update/",r,n);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{Authorization:"Bearer ".concat(r)}},e.next=5,E.a.delete("/api/users/delete/".concat(t,"/"),a);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/users/login/",{username:t,password:r});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()),U=localStorage.getItem("userInfo"),T={userDetails:U?JSON.parse(U):null,loading:!1,error:null},q=Object(N.b)({name:"user",initialState:T,reducers:{loginStart:function(e){e.loading=!0,e.error=null},loginSuccess:function(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},loginFailure:function(e,t){e.loading=!1,e.error=t.payload},getUserDetailsStart:function(e){e.loading=!0,e.error=null},getUserDetailsSuccess:function(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null},getUserDetailsFailure:function(e,t){e.loading=!1,e.error=t.payload},createUserStart:function(e){e.loading=!0,e.error=null},createUserSuccess:function(e,t){e.userDetails=Object(R.a)({},t.payload),e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},createUserFailure:function(e,t){e.loading=!1,e.error=t.payload},updateUserStart:function(e){e.loading=!0,e.error=null},updateUserSuccess:function(e,t){e.userDetails=Object(R.a)(Object(R.a)({},e.userDetails),t.payload),e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(e.userDetails))},updateUserFailure:function(e,t){e.loading=!1,e.error=t.payload},deleteUserStart:function(e){e.loading=!0,e.error=null},deleteUserSuccess:function(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")},deleteUserFailure:function(e,t){e.loading=!1,e.error=t.payload},logoutSuccess:function(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")}}}),_=q.actions,B=_.loginStart,M=_.loginSuccess,W=_.loginFailure,J=(_.getUserDetailsStart,_.getUserDetailsSuccess,_.getUserDetailsFailure,_.createUserStart),G=_.createUserSuccess,H=_.createUserFailure,K=_.updateUserStart,X=_.updateUserSuccess,Y=_.updateUserFailure,V=_.deleteUserStart,Z=_.deleteUserSuccess,Q=_.deleteUserFailure,$=(_.logoutSuccess,q.reducer),ee=Object(f.a)((function(e){return{appBar:{backgroundColor:"#212121"},grow:{flexGrow:1},menuItem:{minWidth:180},link:{textDecoration:"none",color:"#fff"}}})),te=function(){var e=ee(),t=Object(i.b)(),r=Object(i.c)((function(e){return e.user})).userDetails,a=n.a.useState(null),c=Object(l.a)(a,2),s=c[0],o=c[1],f=Boolean(s),m=function(){o(null)};return Object(S.jsx)("div",{className:e.grow,children:Object(S.jsx)(u.a,{position:"static",className:e.appBar,children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(d.Link,{to:"/",className:e.link,children:Object(S.jsx)("img",{src:k,alt:"FooTshop",style:{height:60}})}),Object(S.jsx)("div",{style:{marginLeft:"5vw"},children:Object(S.jsx)(I,{})}),Object(S.jsx)("div",{className:e.grow}),Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{"aria-label":"show cart items",color:"inherit",component:d.Link,to:"/cart",style:{color:"white"},children:Object(S.jsx)(O.a,{})})}),console.log(r),r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",style:{color:"white"},children:Object(S.jsx)(x.a,{})}),Object(S.jsxs)(b.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:m,children:[Object(S.jsx)(h.a,{className:e.menuItem,component:d.Link,to:"/profile",onClick:m,children:"Profile"}),Object(S.jsx)(h.a,{className:e.menuItem,onClick:function(){t((function(e){e(q.actions.logoutSuccess())})),console.log("hi"),m(),window.location.reload()},children:"Logout"})]})]}):Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{"aria-label":"login",color:"inherit",component:d.Link,to:"/login",style:{color:"white"},children:Object(S.jsx)(x.a,{})})})]})})})},re=r(267),ae=r(268),ne=r(213);var ce=function(){return Object(S.jsx)("footer",{children:Object(S.jsx)(re.a,{children:Object(S.jsx)(ae.a,{container:!0,justifyContent:"center",children:Object(S.jsx)(ae.a,{item:!0,children:Object(S.jsx)(ne.a,{variant:"body1",color:"textSecondary",align:"center",children:"Copyright \xa9 UdayBookStore"})})})})})},se=r(22),ie=r(279),oe=r(159),le=r(297),de=r(303),ue=r(304),je=r(305),pe=r(306),be=r(269),he=r(270),Oe=r(271);var xe=function(e){var t=e.value,r=e.text,a=e.color;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(g.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(g.a,{mr:1,children:t>=1?Object(S.jsx)(be.a,{style:{color:a},fontSize:"small"}):t>=.5?Object(S.jsx)(he.a,{style:{color:a},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:a},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=2?Object(S.jsx)(be.a,{style:{color:a},fontSize:"small"}):t>=1.5?Object(S.jsx)(he.a,{style:{color:a},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:a},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=3?Object(S.jsx)(be.a,{style:{color:a},fontSize:"small"}):t>=2.5?Object(S.jsx)(he.a,{style:{color:a},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:a},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=4?Object(S.jsx)(be.a,{style:{color:a},fontSize:"small"}):t>=3.5?Object(S.jsx)(he.a,{style:{color:a},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:a},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=5?Object(S.jsx)(be.a,{style:{color:a},fontSize:"small"}):t>=4.5?Object(S.jsx)(he.a,{style:{color:a},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:a},fontSize:"small"})}),Object(S.jsx)(ne.a,{variant:"subtitle2",color:"textSecondary",children:r||""})]})})};var fe=function(e){var t=e.value,r=(e.text,e.color);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(g.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(g.a,{mr:1,children:t>=1?Object(S.jsx)(be.a,{style:{color:r},fontSize:"small"}):t>=.5?Object(S.jsx)(he.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=2?Object(S.jsx)(be.a,{style:{color:r},fontSize:"small"}):t>=1.5?Object(S.jsx)(he.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=3?Object(S.jsx)(be.a,{style:{color:r},fontSize:"small"}):t>=2.5?Object(S.jsx)(he.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=4?Object(S.jsx)(be.a,{style:{color:r},fontSize:"small"}):t>=3.5?Object(S.jsx)(he.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=5?Object(S.jsx)(be.a,{style:{color:r},fontSize:"small"}):t>=4.5?Object(S.jsx)(he.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Oe.a,{style:{color:r},fontSize:"small"})})]})})};var me=function(e){var t=e.product;return Object(S.jsx)(le.a,{sx:{maxWidth:345,margin:"5px"},children:Object(S.jsxs)(de.a,{component:d.Link,to:"/product/".concat(t._id),children:[Object(S.jsx)(ue.a,{component:"img",sx:{objectFit:"contain",maxHeight:140},image:t.image,alt:t.name}),Object(S.jsxs)(je.a,{style:{textAlign:"center"},children:[Object(S.jsx)(pe.a,{gutterBottom:!0,variant:"subheading2",component:"div",children:t.name}),Object(S.jsxs)(pe.a,{variant:"body2",color:"text.secondary",sx:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"25px"},component:"div",children:["-by ",t.author]}),Object(S.jsx)(pe.a,{variant:"body2",color:"text.secondary",sx:{display:"flex",flexDirection:"column",alignItems:"center"},component:"div",children:Object(S.jsx)(fe,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#f8e825"})}),Object(S.jsxs)(pe.a,{variant:"subheading1",component:"div",children:["\u20b9",t.price]})]})]})})},ge=r(276);function ve(){return Object(S.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(S.jsx)(ge.a,{size:100})})}var ye=r(289),Se=r(19),we=Object(Se.a)(ye.a)((function(e){e.theme,e.variant;return{backgroundColor:"grey",color:"white"}}));function Ie(e){var t=e.variant,r=e.children;return Object(S.jsx)(we,{variant:t,severity:t,children:r})}var ke=r(284),Ce=r(277),Pe=new(function(){function e(){Object(L.a)(this,e)}return Object(A.a)(e,[{key:"getProductList",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r,a,n,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=2,e.next=5,E.a.get("/api/products".concat(t),{params:{page:r}});case 5:return a=e.sent,n=a.data,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProductDetails",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/products/".concat(t));case 3:return r=e.sent,a=r.data,console.log(a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createProductReview",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var a,n,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=5,E.a.post("/api/products/".concat(t,"/reviews/"),r,n);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTopRatedProducts",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/products/top/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),De=Object(N.b)({name:"product",initialState:{productList:{products:[],loading:!1,error:null,page:0,pages:0},productDetails:{product:{reviews:[]},loading:!1,error:null},createReview:{loading:!1,error:null,success:!1},topRatedProducts:{products:[],loading:!1,error:null}},reducers:{productListRequest:function(e){e.productList.loading=!0,e.productList.error=null},productListSuccess:function(e,t){e.productList.loading=!1,e.productList.products=t.payload.products,e.productList.page=t.payload.page,e.productList.pages=t.payload.pages},productListFailure:function(e,t){e.productList.loading=!1,e.productList.error=t.payload},productDetailsRequest:function(e){e.productDetails.loading=!0,e.productDetails.error=null},productDetailsSuccess:function(e,t){e.productDetails.loading=!1,e.productDetails.product=t.payload},productDetailsFailure:function(e,t){e.productDetails.loading=!1,e.productDetails.error=t.payload},createReviewRequest:function(e){e.createReview.loading=!0,e.createReview.error=null,e.createReview.success=!1},createReviewSuccess:function(e){e.createReview.loading=!1,e.createReview.success=!0},createReviewFailure:function(e,t){e.createReview.loading=!1,e.createReview.error=t.payload},productTopRequest:function(e){e.topRatedProducts.loading=!0,e.topRatedProducts.error=null},productTopSuccess:function(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.products=t.payload},productTopFailure:function(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.error=t.payload}}}),Re=De.actions,Ne=Re.productListRequest,Le=Re.productListSuccess,Ae=Re.productListFailure,Fe=Re.productDetailsRequest,Ee=Re.productDetailsSuccess,ze=Re.productDetailsFailure,Ue=Re.createReviewRequest,Te=Re.createReviewSuccess,qe=Re.createReviewFailure,_e=Re.productTopRequest,Be=Re.productTopSuccess,Me=Re.productTopFailure,We=De.reducer;var Je=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.product.topRatedProducts})),r=t.error,n=t.loading,c=t.products;return console.log(t),Object(a.useEffect)((function(){e(function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_e()),e.next=4,Pe.getTopRatedProducts();case 4:r=e.sent,t(Be(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(Me((null===(a=e.t0.response)||void 0===a?void 0:a.data.detail)||e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(S.jsx)(ve,{}):r?Object(S.jsx)(Ie,{variant:"danger",children:r}):Object(S.jsx)(ke.a,{style:{height:"300px"},pause:"hover",className:"bg-dark",interval:5e3,children:c.map((function(e){return Object(S.jsx)(ke.a.Item,{children:Object(S.jsxs)(d.Link,{to:"/product/".concat(e._id),children:[Object(S.jsx)(Ce.a,{src:e.image,style:{height:"250px",width:"250px"},alt:e.name}),Object(S.jsx)(ke.a.Caption,{className:"carousel-caption",children:Object(S.jsxs)("h4",{children:[e.name," (\u20b9",e.price,")"]})})]})},e._id)}))})},Ge=r(120),He=r(15),Ke=r(295),Xe=r(278),Ye=r(291),Ve=r(298),Ze=r(290),Qe=Object(f.a)((function(e){var t;return{root:(t={marginBottom:e.spacing(2),display:"flex",justifyContent:"space-between",alignItems:"center"},Object(He.a)(t,"justifyContent","center"),Object(He.a)(t,"backgroundColor","#EEEEEE"),Object(He.a)(t,"position","relative"),t)}}));var $e=function(e){var t=e.price,r=e.category,a=e.categories,n=e.rating,c=e.onFilterChange,s=Qe(),i=function(e){var a=e.target.value;c(""===a?{price:t,category:r,rating:""}:{price:t,category:r,rating:a})};return Object(S.jsxs)(ae.a,{className:s.root,container:!0,alignItems:"center",children:[Object(S.jsx)(ae.a,{item:!0,xs:12,sm:3,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{style:{marginLeft:"20px"},children:"Price"}),Object(S.jsxs)(Ke.a,{value:t[0]+"-"+t[1],onChange:function(e){var t=e.target.value,a=[0,0];a="0-200"===t?[0,200]:"200-500"===t?[200,500]:"500-2000"===t?[500,2e3]:"2000-above"===t?[2e3,1e4]:[0,1e4],console.log(a),c({price:a,category:r,rating:n})},children:[Object(S.jsx)(Xe.a,{value:"0-200",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"Rs 0 - Rs 200"}),Object(S.jsx)(Xe.a,{value:"200-500",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"Rs 200 - Rs 500"}),Object(S.jsx)(Xe.a,{value:"500-2000",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"Rs 500 - Rs 2000"}),Object(S.jsx)(Xe.a,{value:"2000-above",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"Rs 2000 and above"}),Object(S.jsx)(Xe.a,{value:"all",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"All"})]})]})}),Object(S.jsx)(ae.a,{item:!0,xs:12,sm:3,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{children:"Category"}),Object(S.jsxs)(Ke.a,{value:r,onChange:function(e){var r=e.target.value;c("all"===r?{price:t,category:"",rating:n}:{price:t,category:r,rating:n}),console.log(r)},children:[a.map((function(e){return Object(S.jsx)(Xe.a,{value:e,control:Object(S.jsx)(Ye.a,{color:"default"}),label:e},e)})),Object(S.jsx)(Xe.a,{value:"all",control:Object(S.jsx)(Ye.a,{color:"default"}),label:"All"})]})]})}),Object(S.jsx)(ae.a,{item:!0,xs:12,sm:3,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{children:"Rating"}),Object(S.jsxs)(Ve.a,{children:[Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:"5.00"===n,onChange:i,color:"default"}),label:"5 star",value:"5.00"}),Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:"4.00"===n,onChange:i,color:"default"}),label:"4 star",value:"4.00"}),Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:"3.00"===n,onChange:i,color:"default"}),label:"3 star",value:"3.00"}),Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:"2.00"===n,onChange:i,color:"default"}),label:"2 star",value:"2.00"}),Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:"1.00"===n,onChange:i,color:"default"}),label:"1 star",value:"1.00"}),Object(S.jsx)(Xe.a,{control:Object(S.jsx)(Ze.a,{checked:""===n,onChange:i,color:"default"}),label:"All",value:""})]})]})})]})};var et=function(e){var t=e.history,r=Object(i.b)(),n=Object(i.c)((function(e){return e.product.productList})),c=Object(a.useState)(!1),s=Object(l.a)(c,2),o=s[0],d=s[1],u=Object(a.useState)([]),j=Object(l.a)(u,2),p=j[0],b=j[1],h=Object(a.useState)({price:[0,3e3],category:"",rating:""}),O=Object(l.a)(h,2),x=O[0],f=O[1],m=n.products,g=n.loading,v=n.error,y=(n.page,n.pages,Object(Ge.useParams)().pageNumber),w=t.location.search,I=Object(a.useState)(null),k=Object(l.a)(I,2),C=k[0],N=k[1];Object(a.useEffect)((function(){r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(D.a)(P.a.mark((function r(a){var n,c;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(Ne()),r.next=4,Pe.getProductList(e,t);case 4:n=r.sent,a(Le(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),a(Ae((null===(c=r.t0.response)||void 0===c?void 0:c.data.detail)||r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(w,y))}),[r,w,y]),Object(a.useEffect)((function(){var e=localStorage.getItem("selectedCategory");N(e||null)}),[w]),Object(a.useEffect)((function(){var e=m;x.category&&"all"!==x.category&&(e=e.filter((function(e){return e.category===x.category}))),x.rating&&""!==x.rating&&(e=e.filter((function(e){return e.rating===x.rating}))),e=e.filter((function(e){return e.price>=x.price[0]&&e.price<=x.price[1]})),b(e)}),[x,m]);var L=Object(se.a)(new Set(m.map((function(e){return e.category}))));return Object(S.jsxs)("div",{children:[o?Object(S.jsx)($e,{price:x.price,category:x.category,categories:L,rating:x.rating,onFilterChange:function(e){f(e)},products:m}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{style:{marginLeft:"8px",borderRadius:"4px",fontWeight:"bold",display:"flex",justifyContent:"flex-end",cursor:"pointer"},onClick:function(){return d(!0)},children:[Object(S.jsx)("div",{style:{marginTop:"5px"},children:"Apply filters"}),Object(S.jsx)("div",{children:Object(S.jsx)("iframe",{src:"https://giphy.com/embed/3ohhwuZW3cEWzJehhu",width:"40",height:"40",className:"giphy-embed",allowFullScreen:!0,style:{pointerEvents:"none"}})})]}),!w&&!o&&Object(S.jsxs)("div",{style:{marginTop:"-30px"},children:[Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",borderRadius:"4px",fontWeight:"bold"},children:"TOP-RATED PRODUCTS"}),Object(S.jsx)(Je,{})]})]}),Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"30px"},children:[Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",borderRadius:"4px",border:null===C?"1px solid #ccc":"none",fontWeight:null===C?"bold":"normal",cursor:"pointer"},onClick:function(){N(null),f((function(e){return Object(R.a)(Object(R.a)({},e),{},{category:""})})),localStorage.removeItem("selectedCategory")},children:"Latest Products"}),Object(S.jsx)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"15px"},children:L.map((function(e){return Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",border:C===e?"1px solid #ccc":"none",borderRadius:"4px",cursor:"pointer",fontWeight:C===e?"bold":"normal"},onClick:function(){return function(e){N(e),f((function(t){return Object(R.a)(Object(R.a)({},t),{},{category:e})})),localStorage.setItem("selectedCategory",e)}(e)},children:e},e)}))})]}),g?Object(S.jsx)(ve,{}):v?Object(S.jsx)(Ie,{variant:"danger",children:v}):Object(S.jsx)("div",{children:Object(S.jsx)(ie.a,{children:p.map((function(e){return Object(S.jsx)(oe.a,{sm:12,md:6,lg:4,xl:3,children:Object(S.jsx)(me,{product:e})},e._id)}))})})]})},tt=r(288),rt=r(293),at=r(286),nt=r(280),ct=new(function(){function e(){Object(L.a)(this,e)}return Object(A.a)(e,[{key:"fetchProduct",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/products/".concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),st=Object(N.b)({name:"cart",initialState:{cartItems:JSON.parse(localStorage.getItem("cartItems"))||[],shippingAddress:{}},reducers:{setCartItems:function(e,t){e.cartItems=t.payload,console.log(e.cartItems),localStorage.setItem("cartItems",JSON.stringify(t.payload))},removeCartItem:function(e,t){var r=t.payload;e.cartItems=e.cartItems.filter((function(e){return e._id!==r})),localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},setShippingAddress:function(e,t){e.shippingAddress=t.payload,localStorage.setItem("shippingAddress",JSON.stringify(t.payload))},setPaymentMethod:function(e,t){e.paymentMethod=t.payload,localStorage.setItem("paymentMethod",JSON.stringify(t.payload))}}}),it=st.actions,ot=it.setCartItems,lt=it.removeCartItem,dt=it.setShippingAddress,ut=it.setPaymentMethod,jt=st.reducer;var pt=function(e){var t=e.match,r=e.history,n=Object(a.useState)(1),c=Object(l.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(0),j=Object(l.a)(u,2),p=j[0],b=j[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),x=O[0],f=O[1],m=Object(i.b)(),g=Object(i.c)((function(e){return e.product.productDetails})),v=g.product,y=g.loading,w=g.error;console.log(g);var I=Object(i.c)((function(e){return e.user})).userDetails,k=Object(i.c)((function(e){return e.product.createReview})),C=k.loading,N=k.error,L=k.success;return Object(a.useEffect)((function(){var e;L&&(b(0),f("")),m((e=t.params.id,function(){var t=Object(D.a)(P.a.mark((function t(r){var a,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(Fe()),t.next=4,Pe.getProductDetails(e);case 4:a=t.sent,r(Ee(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(ze((null===(n=t.t0.response)||void 0===n?void 0:n.data.detail)||t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[m,t,L]),Object(S.jsxs)("div",{children:[Object(S.jsx)(d.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),y?Object(S.jsx)(ve,{}):w?Object(S.jsx)(Ie,{variant:"danger",children:w}):Object(S.jsxs)("div",{children:[Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:3,children:Object(S.jsx)(Ce.a,{src:v.image,alt:v.name,fluid:!0})}),Object(S.jsx)(oe.a,{md:6,children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)("h3",{children:v.name})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)(xe,{value:v.rating,text:"".concat(v.numReviews," reviews"),color:"#f8e825"})}),Object(S.jsxs)(tt.a.Item,{children:["Author: ",v.author]}),Object(S.jsxs)(tt.a.Item,{children:["Price: \u20b9",v.price]}),Object(S.jsxs)(tt.a.Item,{children:["Description: ",v.description]})]})}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(rt.a,{children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Price:"}),Object(S.jsx)(oe.a,{children:Object(S.jsxs)("strong",{children:["\u20b9",v.price]})})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Status:"}),Object(S.jsx)(oe.a,{children:v.countInStock>0?"In Stock":"Out of Stock"})]})}),v.countInStock>0&&Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Quantity:"}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(at.a.Control,{style:{border:"2px solid black"},as:"select",value:s,onChange:function(e){return o(e.target.value)},children:Object(se.a)(Array(v.countInStock).keys()).map((function(e){return Object(S.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)(nt.a,{onClick:function(){r.push("/cart/".concat(t.params.id,"?qty=").concat(s)),m(function(e,t){return function(){var r=Object(D.a)(P.a.mark((function r(a,n){var c,s,i,o,l;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c=n().cart.cartItems,r.next=4,ct.fetchProduct(e);case 4:s=r.sent,i=-1,o=0;case 7:if(!(o<c.length)){r.next=14;break}if(c[o]._id!==e){r.next=11;break}return i=o,r.abrupt("break",14);case 11:o++,r.next=7;break;case 14:-1!==i?((l=Object(se.a)(c))[i].qty+=t,a(ot(l))):a(ot([].concat(Object(se.a)(c),[Object(R.a)(Object(R.a)({},s),{},{qty:t})]))),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log("Error adding item to cart:",r.t0);case 20:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(e,t){return r.apply(this,arguments)}}()}(t.params.id,s))},className:"btn-block",type:"button",disabled:0===v.countInStock,children:"Add to Cart"})})]})})})]}),Object(S.jsx)(ie.a,{children:Object(S.jsxs)(oe.a,{md:6,children:[Object(S.jsx)("h4",{children:"Reviews"}),0===v.reviews.length&&Object(S.jsx)(Ie,{children:"No reviews"}),Object(S.jsxs)(tt.a,{variant:"flush",children:[v.reviews.map((function(e){return Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("strong",{children:e.name}),Object(S.jsx)(xe,{color:"#f8e825",value:e.rating}),Object(S.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(S.jsx)("p",{children:e.comment})]},e._id)})),Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h4",{children:"Write a Review"}),C&&Object(S.jsx)(ve,{}),L&&Object(S.jsx)(Ie,{variant:"success",children:"Review submitted"}),N&&Object(S.jsx)(Ie,{variant:"danger",children:N}),I?Object(S.jsxs)(at.a,{onSubmit:function(e){var r,a;e.preventDefault(),m((r=t.params.id,a={rating:p,comment:x},function(){var e=Object(D.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ue()),e.next=4,Pe.createProductReview(r,a);case 4:t(Te()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(qe((null===(n=e.t0.response)||void 0===n?void 0:n.data.detail)||e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(S.jsxs)(at.a.Group,{controlId:"rating",children:[Object(S.jsx)(at.a.Label,{children:"Rating"}),Object(S.jsxs)(at.a.Control,{as:"select",value:p,onChange:function(e){return b(e.target.value)},children:[Object(S.jsx)("option",{value:"",children:"Select..."}),Object(S.jsx)("option",{value:"1",children:"1 - Poor"}),Object(S.jsx)("option",{value:"2",children:"2 - Fair"}),Object(S.jsx)("option",{value:"3",children:"3 - Good"}),Object(S.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(S.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(S.jsxs)(at.a.Group,{controlId:"comment",children:[Object(S.jsx)(at.a.Label,{children:"Comment"}),Object(S.jsx)(at.a.Control,{as:"textarea",rows:"3",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(S.jsx)(nt.a,{disabled:C,type:"submit",variant:"primary",children:"Submit"})]}):Object(S.jsxs)(Ie,{children:["Please ",Object(S.jsx)(d.Link,{to:"/login",children:"sign in"})," to write a review"]})]})]})]})})]})]})};var bt=function(e){var t=e.history,r=Object(i.b)(),a=Object(i.c)((function(e){return e.cart})).cartItems;console.log(a);var n=function(e){r(function(e){return function(t,r){try{t(lt(e))}catch(a){console.log("Error removing item from cart:",a)}}}(e))};return Object(S.jsxs)(ie.a,{children:[Object(S.jsxs)(oe.a,{md:8,children:[Object(S.jsx)("h1",{children:"Shopping Cart"}),0===a.length?Object(S.jsxs)(Ie,{variant:"info",children:["Your cart is empty. ",Object(S.jsx)(d.Link,{to:"/",children:"Go Back"})]}):Object(S.jsx)(tt.a,{variant:"flush",children:a.map((function(e){return Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:2,children:Object(S.jsx)(Ce.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(oe.a,{m:3,children:Object(S.jsx)(d.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(S.jsx)(oe.a,{children:e.qty}),Object(S.jsxs)(oe.a,{children:["\u20b9",e.price]}),Object(S.jsx)(oe.a,{md:1,children:Object(S.jsx)(nt.a,{type:"button",variant:"light",onClick:function(){return n(e._id)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(S.jsx)(oe.a,{md:4,children:Object(S.jsxs)(rt.a,{children:[Object(S.jsx)(tt.a,{variant:"flush",children:Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsxs)("h2",{children:["Subtotal (",a.reduce((function(e,t){return e+t.qty}),0),") items"]}),"\u20b9",a.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)(nt.a,{type:"button",className:"w-100",disabled:0===a.length,onClick:function(){t.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})]})},ht=r(287),Ot=r(281),xt=r(299),ft=r(300);var mt=function(e){var t=e.children;return Object(S.jsx)(xt.a,{children:Object(S.jsx)(ft.a,{container:!0,justifyContent:"center",children:Object(S.jsx)(ft.a,{item:!0,xs:12,md:6,children:t})})})},gt=Object(f.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var vt=function(e){var t=e.location,r=e.history,n=gt(),c=Object(a.useState)(""),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)(""),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(i.b)(),x=t.search?t.search.split("=")[1]:"/",f=Object(i.c)((function(e){return e.user})),m=f.userDetails,g=f.loading,v=f.error;return Object(a.useEffect)((function(){m&&r.replace(x)}),[r,m,x]),Object(S.jsxs)(mt,{children:[Object(S.jsx)(ne.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Sign In"}),v&&Object(S.jsx)(Ie,{variant:"danger",children:v}),g&&Object(S.jsx)(ve,{}),Object(S.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault(),O(function(e,t){return function(){var r=Object(D.a)(P.a.mark((function r(a){var n;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(B()),r.next=4,z.login(e,t);case 4:n=r.sent,a(M(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),a(W(r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(o,b))},children:[Object(S.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:o,onChange:function(e){return u(e.target.value)}})}),Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){return h(e.target.value)}})})]}),Object(S.jsx)(Ot.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,children:"Sign In"}),Object(S.jsx)(ae.a,{container:!0,justify:"flex-start",children:Object(S.jsxs)(ae.a,{item:!0,children:["New Customer?"," ",Object(S.jsx)(d.Link,{to:x?"/register?redirect=".concat(x):"/register",variant:"body2",children:"Register"})]})})]})]})},yt=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"left"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var St=function(e){var t=e.location,r=e.history,n=yt(),c=Object(a.useState)(""),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)(""),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(a.useState)(""),x=Object(l.a)(O,2),f=x[0],m=x[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),y=v[0],w=v[1],I=Object(a.useState)(""),k=Object(l.a)(I,2),C=k[0],R=k[1],N=Object(i.b)(),L=t.search?t.search.split("=")[1]:"/",A=Object(i.c)((function(e){return e.user})),F=A.userDetails,E=A.loading,U=A.error;return Object(a.useEffect)((function(){F&&r.push(L)}),[r,F,L]),Object(S.jsx)(re.a,{component:"main",maxWidth:"xs",children:Object(S.jsxs)("div",{className:n.paper,children:[Object(S.jsx)(ne.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Register"}),C&&Object(S.jsx)(Ie,{variant:"danger",children:C}),U&&Object(S.jsx)(Ie,{variant:"danger",children:U}),E&&Object(S.jsx)(ve,{}),Object(S.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault(),f!==y?R("Passwords do not match"):N(function(e,t,r){return function(){var a=Object(D.a)(P.a.mark((function a(n){var c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(J()),a.next=4,z.createUser(e,t,r);case 4:c=a.sent,n(G(c)),n(M(c)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(H(a.t0.message));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(o,b,f))},children:[Object(S.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:o,onChange:function(e){return u(e.target.value)}})}),Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:b,onChange:function(e){return h(e.target.value)}})}),Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:f,onChange:function(e){return m(e.target.value)}})}),Object(S.jsx)(ae.a,{item:!0,xs:12,children:Object(S.jsx)(ht.a,{variant:"filled",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:y,onChange:function(e){return w(e.target.value)}})})]}),Object(S.jsx)(Ot.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,children:"Register"}),Object(S.jsx)(ae.a,{container:!0,justifyContent:"flex-start",children:Object(S.jsxs)(ae.a,{item:!0,children:["Already have an account?",Object(S.jsx)(d.Link,{to:L?"/login?redirect=".concat(L):"/login",variant:"body2",children:"Sign in"})]})})]})]})})},wt=r(282),It=r(160),kt=new function e(){Object(L.a)(this,e),this.createOrder=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a,n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=5,E.a.post("/api/orders/add/",t,a);case 5:return n=e.sent,c=n.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.getOrderDetails=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a,n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=5,E.a.get("/api/orders/".concat(t,"/"),a);case 5:return n=e.sent,c=n.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.payOrder=function(){var e=Object(D.a)(P.a.mark((function e(t,r){var a,n,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=5,E.a.put("/api/orders/".concat(t,"/pay/"),r,n);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),this.listMyOrders=Object(D.a)(P.a.mark((function e(){var t,r,a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("userInfo")).token,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=5,E.a.get("/api/orders/myorders/",r);case 5:return a=e.sent,n=a.data,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.deliverOrder=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,a,n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=5,E.a.put("/api/orders/".concat(t._id,"/deliver/"),{},a);case 5:return n=e.sent,c=n.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Ct=Object(N.b)({name:"order",initialState:{listorder:[],orderDetails:{},loading:!1,error:null},reducers:{getOrderDetailsStart:function(e){e.loading=!0,e.error=null},getOrderDetailsSuccess:function(e,t){e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(t.payload)},getOrderDetailsFailure:function(e,t){e.loading=!1,e.error=t.payload},createOrderStart:function(e){console.log(e),e.loading=!0,e.error=null},createOrderSuccess:function(e,t){e.listorder.push(t.payload),e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(e,t)},createOrderFailure:function(e,t){e.loading=!1,e.error=t.payload,console.log(e,t)},payOrderStart:function(e){e.loading=!0,e.error=null},payOrderSuccess:function(e,t){return"Order was paid"===t.payload&&(e.orderDetails.isPaid=!0),e.loading=!1,e.error=null,console.log(t.payload),console.log(e.orderDetails),e},payOrderFailure:function(e,t){e.loading=!1,e.error=t.payload},listMyOrdersStart:function(e){e.loading=!0,e.error=null},listMyOrdersSuccess:function(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listMyOrdersFailure:function(e,t){e.loading=!1,e.error=t.payload},listOrdersStart:function(e){e.loading=!0,e.error=null},listOrdersSuccess:function(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listOrdersFailure:function(e,t){e.loading=!1,e.error=t.payload},deliverOrderStart:function(e){e.loading=!0,e.error=null},deliverOrderSuccess:function(e,t){var r=t.payload,a=e.listorder.findIndex((function(e){return e._id===r._id}));-1!==a&&(e.listorder[a]=r),e.loading=!1,e.error=null},deliverOrderFailure:function(e,t){e.loading=!1,e.error=t.payload}}}),Pt=Ct.actions,Dt=Pt.getOrderDetailsStart,Rt=Pt.getOrderDetailsSuccess,Nt=Pt.getOrderDetailsFailure,Lt=Pt.createOrderStart,At=Pt.createOrderSuccess,Ft=Pt.createOrderFailure,Et=Pt.payOrderStart,zt=Pt.payOrderSuccess,Ut=Pt.payOrderFailure,Tt=Pt.listMyOrdersStart,qt=Pt.listMyOrdersSuccess,_t=Pt.listMyOrdersFailure,Bt=(Pt.listOrdersStart,Pt.listOrdersSuccess,Pt.listOrdersFailure,Pt.deliverOrderStart,Pt.deliverOrderSuccess,Pt.deliverOrderFailure,Ct.reducer),Mt=r(161),Wt=r.n(Mt);var Jt=function(e){var t=e.history,r=Object(a.useState)(""),n=Object(l.a)(r,2),c=n[0],s=n[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(a.useState)(""),b=Object(l.a)(p,2),h=b[0],O=b[1],x=Object(a.useState)(""),f=Object(l.a)(x,2),m=f[0],g=f[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),w=y[0],I=y[1],k=Object(i.b)(),C=Object(i.c)((function(e){return e.user})),R=C.userDetails,N=C.loading,L=C.error,A={id:R._id,name:c,email:u,password:h},F=Object(i.c)((function(e){return e.order})),E=F.listorder,U=F.loading,T=F.error;return console.log(E),Object(a.useEffect)((function(){R?(k(function(){var e=Object(D.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Tt()),e.next=4,kt.listMyOrders();case 4:r=e.sent,t(qt(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(_t(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),s(R.name),j(R.username)):t.push("/login")}),[k,t,R,L]),Object(S.jsxs)(ie.a,{children:[Object(S.jsxs)(oe.a,{md:3,children:[Object(S.jsx)("h2",{children:"User Profile"}),w&&Object(S.jsx)(Ie,{variant:"danger",children:w}),L&&Object(S.jsx)(Ie,{variant:"danger",children:L}),N&&Object(S.jsx)(ve,{}),Object(S.jsxs)(at.a,{onSubmit:function(e){var t,r;e.preventDefault(),h!==m?I("Passwords do not match"):(k((t=R.id,r=A,function(){var e=Object(D.a)(P.a.mark((function e(a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(K()),e.next=4,z.updateUser(t,r);case 4:n=e.sent,a(X(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(Y(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),console.log(A),I(""))},children:[Object(S.jsxs)(at.a.Group,{controlId:"name",children:[Object(S.jsx)(at.a.Label,{children:"Name"}),Object(S.jsx)(at.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"email",children:[Object(S.jsx)(at.a.Label,{children:"Email Address"}),Object(S.jsx)(at.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"password",children:[Object(S.jsx)(at.a.Label,{children:"Password"}),Object(S.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"passwordConfirm",children:[Object(S.jsx)(at.a.Label,{children:"Confirm Password"}),Object(S.jsx)(at.a.Control,{type:"password",placeholder:"Confirm Password",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(S.jsx)(nt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]}),Object(S.jsx)(nt.a,{type:"submit",variant:"danger",className:"mt-3",onClick:function(){var e;k((e=R.id,function(){var t=Object(D.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(V()),t.next=4,z.deleteUser(e);case 4:r(Z()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(Q(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),t.push("/"),window.location.reload()},children:Object(S.jsxs)("div",{style:{fontSize:"7px"},children:[Object(S.jsx)(Wt.a,{}),"  Account "]})})]}),Object(S.jsxs)(oe.a,{md:9,children:[Object(S.jsx)("h2",{children:"My Orders"}),U?Object(S.jsx)(ve,{}):T?Object(S.jsx)(Ie,{variant:"danger",children:T}):Object(S.jsxs)(wt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"ID"}),Object(S.jsx)("th",{children:"Date"}),Object(S.jsx)("th",{children:"Total"}),Object(S.jsx)("th",{children:"Paid"}),Object(S.jsx)("th",{children:"Delivered"})]})}),Object(S.jsx)("tbody",{children:E.filter((function(e){return e.isPaid})).map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e._id}),Object(S.jsx)("td",{children:e.createdAt?e.createdAt.substring(0,10):null}),Object(S.jsxs)("td",{children:["$",e.totalPrice]}),Object(S.jsx)("td",{children:e.isPaid?e.paidAt?e.paidAt.substring(0,10):null:Object(S.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(S.jsx)("td",{children:Object(S.jsx)(It.LinkContainer,{to:"/orderDetail",children:Object(S.jsx)(nt.a,{className:"btn-sm",onClick:function(){return k((t=e._id,function(){var e=Object(D.a)(P.a.mark((function e(r){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(Dt()),e.next=4,kt.getOrderDetails(t);case 4:a=e.sent,console.log(t),r(Rt(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(Nt(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Details"})})})]},e._id)}))})]})]})]})},Gt=r(296),Ht=Object(f.a)((function(e){return{link:{display:"flex",color:e.palette.grey[600],textDecoration:"none"},activeLink:{color:e.palette.primary.main}}}));var Kt=function(e){var t=e.step1,r=e.step2,a=e.step3,n=Ht();return Object(S.jsxs)(Gt.a,{"aria-label":"breadcrumb",children:[Object(S.jsx)(d.Link,{to:"/login",className:"".concat(n.link," ").concat(t?n.activeLink:""),children:t?"Login":"Login (Incomplete)"}),Object(S.jsx)(d.Link,{to:"/shipping",className:"".concat(n.link," ").concat(r?n.activeLink:""),children:r?"Shipping":"Shipping (Incomplete)"}),Object(S.jsx)(ne.a,{color:a?"textPrimary":"textSecondary",className:"".concat(n.link," ").concat(a?n.activeLink:""),children:a?"Place Order":"Place Order (Incomplete)"})]})};var Xt=function(e){var t=e.history,r=Object(i.c)((function(e){return e.cart})).shippingAddress,n=Object(a.useState)(r.address),c=Object(l.a)(n,2),s=c[0],o=c[1],d=Object(a.useState)(r.city),u=Object(l.a)(d,2),j=u[0],p=u[1],b=Object(a.useState)(r.postalCode),h=Object(l.a)(b,2),O=h[0],x=h[1],f=Object(a.useState)(r.country),m=Object(l.a)(f,2),g=m[0],v=m[1],y=Object(i.b)();return Object(S.jsxs)(mt,{children:[Object(S.jsx)(Kt,{step1:!0,step2:!0}),Object(S.jsx)("h1",{children:"Shipping"}),Object(S.jsxs)(at.a,{onSubmit:function(e){var r;e.preventDefault(),y((r={address:s,city:j,postalCode:O,country:g},function(e){e(dt(r))})),t.push("./payment")},children:[Object(S.jsxs)(at.a.Group,{controlId:"address",children:[Object(S.jsx)(at.a.Label,{children:"Address"}),Object(S.jsx)(at.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:s||"",onChange:function(e){return o(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"city",children:[Object(S.jsx)(at.a.Label,{children:"City"}),Object(S.jsx)(at.a.Control,{required:!0,type:"text",placeholder:"Enter City",value:j||"",onChange:function(e){return p(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"postalCode",children:[Object(S.jsx)(at.a.Label,{children:"Postal Code"}),Object(S.jsx)(at.a.Control,{required:!0,type:"text",placeholder:"Enter Postal Code",value:O||"",onChange:function(e){return x(e.target.value)}})]}),Object(S.jsxs)(at.a.Group,{controlId:"country",children:[Object(S.jsx)(at.a.Label,{children:"Country"}),Object(S.jsx)(at.a.Control,{required:!0,type:"text",placeholder:"Enter Country",value:g||"",onChange:function(e){return v(e.target.value)}})]}),Object(S.jsx)(nt.a,{className:"my-3",type:"submit",variant:"primary",children:"Continue"})]})]})};var Yt=function(e){var t=e.history,r=Object(i.c)((function(e){return e.cart})).shippingAddress,n=Object(a.useState)("PayPal"),c=Object(l.a)(n,2),s=c[0],o=c[1];r.address||t.push("/shipping");var d=Object(i.b)();return Object(S.jsxs)(mt,{children:[Object(S.jsx)(Kt,{step1:!0,step2:!0,step3:!0}),Object(S.jsxs)(at.a,{onSubmit:function(e){var r;e.preventDefault(),d((r=s,function(e){e(ut(r))})),t.push("/placeorder")},children:[Object(S.jsxs)(at.a.Group,{children:[Object(S.jsx)(at.a.Label,{as:"legend",children:"Select Method"}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(at.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,onChange:function(e){return o(e.target.value)}})})]}),Object(S.jsx)(nt.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"})]})]})};var Vt=function(e){var t=e.history,r=Object(i.b)(),a=Object(i.c)((function(e){return e.order})),n=(a.orderDetails,a.loading,a.error),c=Object(i.c)((function(e){return e.cart})),s=c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),o=s>100?0:10,l=Number((.082*s).toFixed(2)),u=(Number(s)+Number(o)+Number(l)).toFixed(2);c.paymentMethod||t.push("/payment");var j={orderItems:c.cartItems,shippingAddress:c.shippingAddress,paymentMethod:c.paymentMethod,itemsPrice:s.toFixed(2).toString(),shippingPrice:o.toFixed(2).toString(),taxPrice:l.toFixed(2).toString(),totalPrice:u.toString()};return Object(S.jsxs)("div",{children:[Object(S.jsx)(Kt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:8,children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Shipping"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Shipping Address: "}),c.shippingAddress.address,", ",c.shippingAddress.city,","," ",c.shippingAddress.postalCode,","," ",c.shippingAddress.country]})]}),Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Payment"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Payment Method: "}),c.paymentMethod]})]}),Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Order Items"}),0===c.cartItems.length?Object(S.jsx)(Ie,{variant:"info",children:"Your cart is empty"}):Object(S.jsx)(tt.a,{variant:"flush",children:c.cartItems.map((function(e,t){return Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:1,children:Object(S.jsx)(Ce.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(d.Link,{to:"/product".concat(e.product),children:e.name})}),Object(S.jsxs)(oe.a,{md:4,children:[e.qty," X \u20b9",e.price," = \u20b9",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(S.jsx)(oe.a,{md:4,children:Object(S.jsx)(rt.a,{children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)("h2",{children:"Order Summary"})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Items:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",s.toFixed(2)]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Shipping:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",o.toFixed(2)]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Tax:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",l]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Total:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",u]})]})}),Object(S.jsx)(tt.a.Item,{children:n&&Object(S.jsx)(Ie,{variant:"danger",children:n})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)(nt.a,{type:"button",className:"w-100",disabled:0===c.cartItems.length,onClick:function(){r(function(e){return function(){var t=Object(D.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(Lt()),t.next=4,kt.createOrder(e);case 4:a=t.sent,r(At(a)),localStorage.removeItem("cartItems"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(Ft(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(j)).then((function(){setTimeout((function(){t.push("/orderDetail")}),1e3)})).catch((function(e){}))},children:"Place Order"})})]})})})]})]})},Zt=r(162);var Qt=function(e){var t=e.history,r=Object(i.b)(),n=Object(a.useState)(!1),c=Object(l.a)(n,2),s=c[0],o=c[1],u=Object(i.c)((function(e){return e.order})),j=u.orderDetails,p=u.error,b=u.loading;console.log(j);var h=Object(i.c)((function(e){return e.user})).userDetails,O=j;if(O&&O.orderItems&&O.orderItems.length>0){var x=O.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2);O=Object(R.a)(Object(R.a)({},O),{},{itemsPrice:x})}Object(a.useEffect)((function(){h?j.isPaid||(window.paypal?o(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AYgflmsaM7ccNLPlKUiufIyw8-spOE4UuS5XyyTCvhzheA-1EUcZF9qGlgXBZaSKcP5BY0zTc9WgINKe",e.async=!0,e.onload=function(){o(!0)},document.body.appendChild(e)}()):t.push("/login")}),[r,j,t,h]);var f=j.orderItems&&j.orderItems.length>0?j.orderItems.reduce((function(e,t){return e+parseFloat(t.price)*t.qty}),0):0;return b?Object(S.jsx)(ve,{}):p?Object(S.jsx)(Ie,{variant:"danger",children:p}):Object(S.jsxs)("div",{children:[Object(S.jsxs)("h1",{children:["Order: ",j._id]}),Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:8,children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Shipping"}),Object(S.jsx)("p",{children:Object(S.jsxs)("strong",{children:["Name: ",j.User.name]})}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Email: "}),Object(S.jsx)("a",{href:"mailto:".concat(j.User.username),children:j.User.username})]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Shipping Address: "}),j.shippingAddress.address,", ",j.shippingAddress.city,","," ",j.shippingAddress.postalCode,","," ",j.shippingAddress.country]}),j.isDeliver?Object(S.jsxs)(Ie,{variant:"success",children:["Delivered on"," ",j.deliveredAt?j.deliveredAt.substring(0,10):null]}):Object(S.jsx)(Ie,{variant:"warning",children:"Not Delivered"})]}),Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Payment"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Payment Method: "}),j.paymentMethod]}),j.isPaid?Object(S.jsxs)(Ie,{variant:"success",children:["Paid   ",j.paidAt?j.paidAt.substring(0,10):null]}):Object(S.jsx)(Ie,{variant:"warning",children:"Not Paid"})]}),Object(S.jsxs)(tt.a.Item,{children:[Object(S.jsx)("h2",{children:"Order Items"}),0===j.orderItems.length?Object(S.jsx)(Ie,{variant:"info",children:"Order is empty"}):Object(S.jsx)(tt.a,{variant:"flush",children:j.orderItems.map((function(e,t){return Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{md:1,children:Object(S.jsx)(Ce.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(oe.a,{children:Object(S.jsx)(d.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(S.jsxs)(oe.a,{md:4,children:[e.qty," X \u20b9",e.price," = \u20b9",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(S.jsx)(oe.a,{md:4,children:Object(S.jsx)(rt.a,{children:Object(S.jsxs)(tt.a,{variant:"flush",children:[Object(S.jsx)(tt.a.Item,{children:Object(S.jsx)("h2",{children:"Order Summary"})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Products Cost:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",f]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Shipping:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",j.shippingPrice]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Tax:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",j.taxPrice]})]})}),Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(oe.a,{children:"Total:"}),Object(S.jsxs)(oe.a,{children:["\u20b9",j.totalPrice]})]})}),!j.isPaid&&Object(S.jsxs)(tt.a.Item,{children:[b&&Object(S.jsx)(ve,{}),s?Object(S.jsx)(Zt.PayPalButton,{amount:j.totalPrice,onSuccess:function(e){r(function(e,t){return function(){var r=Object(D.a)(P.a.mark((function r(a){var n;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(Et()),r.next=4,kt.payOrder(e,t);case 4:n=r.sent,a(zt(n)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),a(Ut(r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(j._id,e)),console.log(j._id)}}):Object(S.jsx)(ve,{})]})]})})})]})]})};var $t=function(){return Object(S.jsxs)(d.HashRouter,{children:[Object(S.jsx)("div",{style:{position:"sticky",top:0,zIndex:"100"},children:Object(S.jsx)(te,{})}),Object(S.jsx)(o.a,{children:Object(S.jsxs)("main",{className:"py-3",children:[Object(S.jsx)(m.Route,{exact:!0,path:"/",component:et}),Object(S.jsx)(m.Route,{path:"/page/:pageNumber",component:et}),Object(S.jsx)(m.Route,{path:"/login",component:vt}),Object(S.jsx)(m.Route,{path:"/register",component:St}),Object(S.jsx)(m.Route,{path:"/profile",component:Jt}),Object(S.jsx)(m.Route,{path:"/shipping",component:Xt}),Object(S.jsx)(m.Route,{path:"/payment",component:Yt}),Object(S.jsx)(m.Route,{path:"/placeorder",component:Vt}),Object(S.jsx)(m.Route,{path:"/orderDetail",component:Qt}),Object(S.jsx)(m.Route,{path:"/product/:id",component:pt}),Object(S.jsx)(m.Route,{path:"/cart/:id?",component:bt})]})}),Object(S.jsx)(ce,{})]})},er=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,309)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},tr=(r(207),r(208),r(56)),rr=Object(tr.b)({user:$,product:We,order:Bt,cart:jt}),ar=Object(N.a)({reducer:rr,devTools:"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENABLE_REDUX_DEV_TOOLS}),nr=(i.c,ar);s.a.render(Object(S.jsx)(i.a,{store:nr,children:Object(S.jsx)($t,{})}),document.getElementById("root")),er()}},[[209,1,2]]]);
//# sourceMappingURL=main.9fbe9055.chunk.js.map